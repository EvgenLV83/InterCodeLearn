<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–æ–º–Ω–∏—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PITON</title>
     <link rel="stylesheet" href="Color_Scheme.css">
    <!-- <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #code {
            background-color: #f4f4f4;
            padding: 15px;
            border: 1px solid #ccc;
            margin-bottom: 20px;
            white-space: pre;
            display: none;
        }
        #inputArea {
            margin-bottom: 20px;
        }
        #description {
            margin-bottom: 20px;
            font-style: italic;
        }
        #tryButton {
            margin-bottom: 20px;
        }
    </style> -->
</head>
<body>

<h1>–ó–∞–ø–æ–º–Ω–∏—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å C#</h1>
<div id="description"></div>
<div class="card1">
<div id="code"></div>

 <!-- <label for="userInput">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥:</label><br>
   <textarea id="userInput" rows="3" oninput="autoResize(this)"></textarea><br> -->

<!-- <div id="inputArea">
    <label for="userInput">public void Main() {</label><br>
    <textarea id="userInput" rows="10" cols="50"></textarea>}<br>
    <button id="checkButton">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <button id="repeatButton">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    <button id="nextButton" disabled>–°–ª–µ–¥—É—é—â–∏–π</button>
    <button id="tryButton">–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥</button>
</div>
</div>
<div id="result"></div> -->
               <label for="userInput">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥:</label><br>
   <textarea id="userInput" rows="3" oninput="autoResize(this)"></textarea><br>

    <script>
        function autoResize(textarea) {
            textarea.style.height = 'auto'; // –°–±—Ä–æ—Å–∏—Ç—å –≤—ã—Å–æ—Ç—É
            textarea.style.height = textarea.scrollHeight + 'px'; // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã—Å–æ—Ç—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
        }
    </script>
    <button id="checkButton">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <button id="repeatButton">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    <button id="tryButton">–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥</button> <!-- –ò–∑–º–µ–Ω–µ–Ω —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ -->
    <button id="nextButton" disabled>–°–ª–µ–¥—É—é—â–∏–π</button>
            </div>

<div id="result"></div>

<script src="Syntax_Checking\Syntax_Checking_JAVA.js"></script>
<script src="Programming_Languages\JAVA.js"></script>


<script>
// const examples = [
//     {
//         code: `
//  Console.WriteLine("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!");
// `,
//         description: "–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã, –≤—ã–≤–æ–¥—è—â–µ–π –ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! –Ω–∞ –∫–æ–Ω—Å–æ–ª—å.",
//         next: 1
//     },
//     {
//         code: `public int Add(int a = 5, int b = 5) {
//     return a + b;
// }`,
//         description: "–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö —Å—É–º–º—É.",
//         next: 2
//     },
//     {
//         code: `public void PrintNumbers(int n) {
//     for (int i = 1; i <= n; i++) {
//         Console.WriteLine(i);
//     }
// }`,
//         description: "–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ n.",
//         next: 3
//     }
// ];

let currentExampleIndex = 0;
let codeVisible = false;

function loadExample(index) {
    if (index !== null && index < examples.length) {
        document.getElementById('code').innerText = examples[index].code;
        document.getElementById('description').innerText = examples[index].description;
        document.getElementById('userInput').value = '';
        document.getElementById('result').innerText = '';
        document.getElementById('code').style.display = 'none';
        codeVisible = false;
        document.getElementById('nextButton').disabled = true;
        document.getElementById('tryButton').innerText = "–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥";
        document.getElementById('checkButton').disabled = false;
    } else {
        document.getElementById('result').innerText = "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã!";
    }
}

document.getElementById('tryButton').addEventListener('click', function() {
    if (!codeVisible) {
        document.getElementById('code').style.display = 'block';
        codeVisible = true;
        this.innerText = "–°–∫—Ä—ã—Ç—å –∫–æ–¥";
        document.getElementById('checkButton').disabled = true;
    } else {
        loadExample(currentExampleIndex);
    }
});

document.getElementById('nextButton').addEventListener('click', function() {
    if (examples[currentExampleIndex].next !== null) {
        currentExampleIndex = examples[currentExampleIndex].next;
        loadExample(currentExampleIndex);
    }
});

document.getElementById('checkButton').addEventListener('click', function() {
    let inputText = document.getElementById('userInput').value.trim();
    inputText = inputText.replace(/([(){}])/g, ' $1 ');
    
    const keywords = ['void', 'int', 'return', 'string', 'bool', 'int\\[\\]', '='];
    const regex = new RegExp('(?:' + keywords.join('|') + ')\\s+([^;.!\\s]+)', 'g');
    const quotedRegex = /"(.*?)"/g;
    
    const matches = [];
    let match;
    
    while ((match = quotedRegex.exec(inputText)) !== null) {
        matches.push(match[1]);
    }
    
    while ((match = regex.exec(inputText)) !== null) {
        const word = match[1].replace(/[^\w–∞-—è–ê-–Ø—ë–Å]/g, '').trim();
        if (word) matches.push(word);
    }
    
    const N = matches.map(word => word);

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è examplesP –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
//     const examplesP = [
//     {
//         codeP: `
// Console.WriteLine("
// ${N[0]}");
// `,
//         next: 1
//     },
// {
//         codeP: `public int ${N[0]}(int ${N[1]} = ${N[2]}, int ${N[3]} = ${N[4]}) {

//     return ${N[1]} + ${N[3]};
// }`,
//         next: 2
//     },
// {
//         codeP: `public void ${N[0]}(int ${N[1]}) {
//     for (int ${N[2]} = 1; ${N[2]} <= ${N[1]}; ${N[2]}++) {
//         Console.WriteLine(${N[2]});
//     }
// }`,
//         description: "–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ n.",
//         next: 3
//         }
//     ];

    const userInput = document.getElementById('userInput').value.replace(/\s+/g, '');
    const correctCode = examplesP[currentExampleIndex].codeP.replace(/\s+/g, '');

    if (userInput === correctCode) {
        function addNumbers(a, b, c) {
            if(examples[currentExampleIndex].next === 1) return c;
            if(examples[currentExampleIndex].next === 2) return Number(a) + Number(b);
            return 0;
        }
        
        const result2 = addNumbers(N[2], N[4], N[0]);
        document.getElementById('result').innerText = `‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç: ${result2}. –ù–∞–∂–º–∏—Ç–µ '–°–ª–µ–¥—É—é—â–∏–π'`;
        document.getElementById('nextButton').disabled = false;
    } else {
        document.getElementById('result').innerText = "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
    }
});

document.getElementById('repeatButton').addEventListener('click', function() {
    loadExample(currentExampleIndex);
    document.getElementById('result').innerText = "üîÑ –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!";
});

// –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
loadExample(currentExampleIndex);
</script>

</body>
</html>